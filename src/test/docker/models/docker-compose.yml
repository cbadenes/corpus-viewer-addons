version: '3'
services:
  cordis-70:
    container_name: cordis-70
    image: sesiad/cordis-model:1.0-70
    restart: always
    ports:
    - "8000:7777"
    - "65000:65111"
    environment:
    - REST_PATH=/model
  solr:
    image: solr:7.3.1
    container_name: solr
    ports:
    - "9983:9983"
    - "8983:8983"
    volumes:
    - ./bin/solr.in.sh:/opt/solr/bin/solr.in.sh
    - ./contrib/jscustomsimilarity:/opt/solr/contrib/jscustomsimilarity
    - ./data:/opt/solr/server/solr
    - ./graph/solr-graph-ui:/opt/solr/server/solr-webapp/webapp/solr-graph-ui
    - ./logs:/opt/solr/server/logs
    entrypoint:
    - solr
    - start
    - -c
    - -f
    depends_on:
    - cordis-70
